{"ast":null,"code":"import _regeneratorRuntime from \"/home/shivam/Desktop/finance/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/shivam/Desktop/finance/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"/home/shivam/Desktop/finance/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/shivam/Desktop/finance/frontend/src/pages/redirect.tsx\",\n    _this = this;\n\nimport { Center, Heading, Box, Text } from '@chakra-ui/react';\nimport { useRouter } from 'next/router';\nimport React from 'react';\nimport { useAuthenticateMonzoMutation } from '../generated/graphql';\nimport { withUrqlClient } from 'next-urql';\n\nvar Redirect = /*#__PURE__*/function () {\n  var _s = $RefreshSig$();\n\n  var _ref = _asyncToGenerator(_s( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var router, _router$query, code, state, _useAuthenticateMonzo, _useAuthenticateMonzo2, authenticateMonzo, options, response;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _s();\n\n            router = useRouter();\n            _router$query = router.query, code = _router$query.code, state = _router$query.state;\n            _useAuthenticateMonzo = useAuthenticateMonzoMutation(), _useAuthenticateMonzo2 = _slicedToArray(_useAuthenticateMonzo, 1), authenticateMonzo = _useAuthenticateMonzo2[0];\n            options = {\n              code: code,\n              state: state\n            };\n            _context.next = 7;\n            return authenticateMonzo(options);\n\n          case 7:\n            response = _context.sent;\n            return _context.abrupt(\"return\", /*#__PURE__*/_jsxDEV(Center, {\n              h: \"100vh\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                textAlign: \"center\",\n                fontSize: \"xl\",\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"3xl\",\n                  mb: \"16\",\n                  p: 4,\n                  children: \"thanks!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 27,\n                  columnNumber: 7\n                }, _this), /*#__PURE__*/_jsxDEV(Center, {\n                  mx: \"auto\",\n                  alignContent: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"https://media.discordapp.net/attachments/692861972731002995/810216310452781106/logo.png?width=468&height=468\",\n                    height: \"400\",\n                    width: \"400vh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 29,\n                    columnNumber: 9\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 28,\n                  columnNumber: 7\n                }, _this), /*#__PURE__*/_jsxDEV(Heading, {\n                  textAlign: \"center\",\n                  size: \"2xl\",\n                  mb: \"16\",\n                  p: 4,\n                  children: \"you can head back to the app now.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 31,\n                  columnNumber: 7\n                }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: 8,\n                  children: code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 32,\n                  columnNumber: 7\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 26,\n                columnNumber: 5\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 9\n            }, _this));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }), \"komlhRCtnuBBjEnvwRDa3BEIGcI=\", false, function () {\n    return [useRouter, useAuthenticateMonzoMutation];\n  }));\n\n  return function Redirect() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n_c = Redirect;\nexport default withUrqlClient(function (_ssrExchange, ctx) {\n  return {\n    url: 'http://localhost:8080/isohel/graphql'\n  };\n})(Redirect);\n\nvar _c;\n\n$RefreshReg$(_c, \"Redirect\");","map":{"version":3,"sources":["/home/shivam/Desktop/finance/frontend/src/pages/redirect.tsx"],"names":["Center","Heading","Box","Text","useRouter","React","useAuthenticateMonzoMutation","withUrqlClient","Redirect","router","query","code","state","authenticateMonzo","options","response","_ssrExchange","ctx","url"],"mappings":";;;;;;;;AACA,SAAQA,MAAR,EAAgBC,OAAhB,EAAyBC,GAAzB,EAA8BC,IAA9B,QAA0C,kBAA1C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAiC,OAAjC;AACA,SAAQC,4BAAR,QAA2C,sBAA3C;AACA,SAASC,cAAT,QAA+B,WAA/B;;AAGA,IAAMC,QAAQ;AAAA;;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEPC,YAAAA,MAFO,GAEEL,SAAS,EAFX;AAAA,4BAGSK,MAAM,CAACC,KAHhB,EAGNC,IAHM,iBAGNA,IAHM,EAGAC,KAHA,iBAGAA,KAHA;AAAA,oCAKmBN,4BAA4B,EAL/C,qEAKNO,iBALM;AAMPC,YAAAA,OANO,GAMG;AACZH,cAAAA,IAAI,EAAEA,IADM;AAEZC,cAAAA,KAAK,EAAEA;AAFK,aANH;AAAA;AAAA,mBAWcC,iBAAiB,CAACC,OAAD,CAX/B;;AAAA;AAWHC,YAAAA,QAXG;AAAA,0DAgBT,QAAC,MAAD;AAAQ,cAAA,CAAC,EAAC,OAAV;AAAA,qCACJ,QAAC,GAAD;AAAK,gBAAA,SAAS,EAAC,QAAf;AAAwB,gBAAA,QAAQ,EAAC,IAAjC;AAAA,wCACE,QAAC,OAAD;AAAS,kBAAA,IAAI,EAAC,KAAd;AAAoB,kBAAA,EAAE,EAAC,IAAvB;AAA4B,kBAAA,CAAC,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,QAAC,MAAD;AAAQ,kBAAA,EAAE,EAAC,MAAX;AAAkB,kBAAA,YAAY,EAAC,QAA/B;AAAA,yCACE;AAAK,oBAAA,GAAG,EAAC,8GAAT;AAAwH,oBAAA,MAAM,EAAC,KAA/H;AAAqI,oBAAA,KAAK,EAAC;AAA3I;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,yBAFF,eAKE,QAAC,OAAD;AAAS,kBAAA,SAAS,EAAC,QAAnB;AAA4B,kBAAA,IAAI,EAAC,KAAjC;AAAuC,kBAAA,EAAE,EAAC,IAA1C;AAA+C,kBAAA,CAAC,EAAE,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBALF,eAME,QAAC,IAAD;AAAM,kBAAA,QAAQ,EAAE,CAAhB;AAAA,4BAAoBJ;AAApB;AAAA;AAAA;AAAA;AAAA,yBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,qBAhBS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;AAAA,YAEKP,SAFL,EAKsBE,4BALtB;AAAA;;AAAA,kBAARE,QAAQ;AAAA;AAAA;AAAA,GAAd;;KAAMA,Q;AA6BN,eAAeD,cAAc,CAAC,UAACS,YAAD,EAAeC,GAAf;AAAA,SAAwB;AAClDC,IAAAA,GAAG,EAAE;AAD6C,GAAxB;AAAA,CAAD,CAAd,CAETV,QAFS,CAAf","sourcesContent":["\nimport {Center, Heading, Box, Text } from '@chakra-ui/react';\nimport { useRouter } from 'next/router'\nimport React, { useEffect } from 'react';\nimport {useAuthenticateMonzoMutation} from '../generated/graphql';\nimport { withUrqlClient } from 'next-urql';\nimport { createURQLclient } from '../utils/createUrqlClient';\n\nconst Redirect = async () =>{ \n    \n    const router = useRouter();\n    const {code, state} = router.query;\n\n    const [authenticateMonzo]:any = useAuthenticateMonzoMutation();\n    const options = {\n        code: code as String,\n        state: state as String\n    }\n\n        const response = await authenticateMonzo(options);\n\n\n    return (\n\n        <Center h=\"100vh\">\n    <Box textAlign=\"center\" fontSize=\"xl\">\n      <Heading size=\"3xl\" mb=\"16\" p={4}>thanks!</Heading>\n      <Center mx=\"auto\" alignContent=\"center\">\n        <img src=\"https://media.discordapp.net/attachments/692861972731002995/810216310452781106/logo.png?width=468&height=468\" height=\"400\" width=\"400vh\" ></img>\n        </Center>\n      <Heading textAlign=\"center\" size=\"2xl\" mb=\"16\" p={4}>you can head back to the app now.</Heading>\n      <Text fontSize={8}>{code}</Text>\n    </Box>\n    </Center>\n\n)}\n\nexport default withUrqlClient((_ssrExchange, ctx) => ({\n    url: 'http://localhost:8080/isohel/graphql',\n  }))(Redirect);\n  \n"]},"metadata":{},"sourceType":"module"}